<main>
    <section class="section section_video-panels">
        <header class="section-header">
            <h1 class="section-header__title">Videos</h1>

            <div class="dropdown-toggle">
                <span class="dropdown-toggle__text">{{ dropdownSelection || 'All videos' }}</span>
                <img class="dropdown-toggle__icon" src="/assets/icons/arrow-down.svg" alt="expand" *ngIf="!isDropdownVisible && !dropdownSelection" (click)="onClickShowDropdown()">
                <img class="dropdown-toggle__icon" src="/assets/icons/arrow-up.svg" alt="collapse" *ngIf="isDropdownVisible  && !dropdownSelection" (click)="onClickHideDropdown()">
                <img class="dropdown-toggle__icon dropdown-toggle__icon--close" src="/assets/icons/close-green.svg" alt="close" *ngIf="dropdownSelection" (click)="onClickResetDropdownSelection()">
            </div>

            <gn-category-list *ngIf="isDropdownVisible" [categories]="categories" class="dropdown" [@dropdown]></gn-category-list>
        </header>

        <gn-video-panel-list [videos]="videos" [controls]="true"></gn-video-panel-list>

        <button class="button section__button" (click)="onClickLoadMore()">LOAD MORE</button>
    </section>

    <hr>

    <section class="section section_goals">
        <header class="section-header">
            <h1 class="section-header__title">Goals</h1>
        </header>

        <ul class="goals">
            <li class="goal">
                <!-- Todo: Handle pluralization via a pipe or something -->
                <h3 class="goal-value goal-value--consecutive-days">{{ stats?.consecutive_days }} {{ stats?.consecutive_days === 1 ? 'day' : 'days' }}</h3>
                <span class="goal-key">CURRENT STREAK</span>
            </li>

            <li class="goal">
                <h3 class="goal-value goal-value--total-study-sessions">{{ stats?.total_study_sessions }}</h3>
                <span class="goal-key">TOTAL COMPLETIONS</span>
            </li>

            <li class="goal">
                <!-- Todo: Handle pluralization via a pipe or something -->
                <h3 class="goal-value goal-value--longest-consecutive-days">{{ stats?.longest_consecutive_days }} {{ stats?.longest_consecutive_days === 1 ? 'day' : 'days' }}</h3>
                <span class="goal-key">LONGEST STREAK</span>
            </li>
        </ul>
    </section>

    <hr>

    <section class="section section_answers">
        <header class="section-header">
            <h1 class="section-header__title">Answers</h1>
            <ul class="section-header__toggle-button-frame">
                <li class="section-header__menu-item section-header__menu-item_active">LAST 30 DAYS</li>
                <li class="section-header__menu-item">LAST 90 DAYS</li>
                <li class="section-header__menu-item">LAST YEAR</li>
                <li class="section-header__menu-item">ALL TIME</li>
            </ul>
        </header>

        <ul class="answers">
            <li *ngFor="let n of answers; let even = even" [ngClass]='{"answers__answer_striped": even}' class="answers__answer">
                <div class="answers__answer-body">
                    <h6 class="answers__answer-title">Video Title ({{ n }})</h6>
                    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. A aliquam, consectetur delectus et ex
                       nemo, praesentium quibusdam quod recusandae reprehenderit sit vel veritatis voluptatum. Assumenda
                       culpa dolores enim quibusdam totam?</p>
                </div>

                <span class="answers__answer-date">December 10, 2016</span>
            </li>
        </ul>

        <button class="button section__button">LOAD MORE</button>
    </section>
</main>
